appId: com.inventory.app
productName: Inventory POS
directories:
  output: release
files:
  - dist/**/*
  - dist-electron/**/*
  - node_modules/**/*
# Auto-updater configuration
# Option 1: GitHub Releases (recommended for open source)
# publish:
#   provider: github
#   owner: your-username
#   repo: your-repo-name
#   private: false

# Option 2: Generic server (for your own update server)
# Set UPDATE_SERVER_URL environment variable or update electron/main.ts
# publish:
#   provider: generic
#   url: https://your-update-server.com/updates
mac:
  category: public.app-category.business
  target:
    - target: dmg
      arch:
        - x64
        - arm64
  icon: build/icon.icns
  hardenedRuntime: false
  gatekeeperAssess: false
  # DMG specific settings to prevent corruption
  dmg:
    # Don't sign the DMG (prevents corruption for unsigned apps)
    sign: false
    # Write DMG in UDZO format (compressed, compatible)
    format: "UDZO"
    # Background image (optional)
    # background: "build/background.png"
    # Window settings
    window:
      width: 540
      height: 380
      x: 400
      y: 100
    # Contents settings - app icon and Applications link
    contents:
      - x: 130
        y: 220
      - x: 410
        y: 220
        type: link
        path: /Applications
  # Code signing (optional - add your identity for production)
  # identity: "Developer ID Application: Your Name (TEAM_ID)"
win:
  target:
    - target: portable
      arch:
        - x64
  icon: build/icon.ico
linux:
  target:
    - target: AppImage
      arch:
        - x64
  category: Office
  icon: build/icon.png
nsis:
  oneClick: false
  allowToChangeInstallationDirectory: true
  createDesktopShortcut: true
  createStartMenuShortcut: true

